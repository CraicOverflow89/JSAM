var __extends=this&&this.__extends||function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),JSAM=function(){function n(){this.ruleList=[this.rule(/```\n([^`]*)\n```/g,"<pre><code>$1</code></pre>"),this.rule(/`([^`]*)`/g,"<code>$1</code>"),this.rule(/([^\n]+)\n(=)+\n/g,"<h1>$1</h1>"),this.rule(/([^\n]+)\n(-)+\n/g,"<h2>$1</h2>"),this.rule(/###### ([^#\n]*)\n/g,"<h6>$1</h6>"),this.rule(/##### ([^#\n]*)\n/g,"<h5>$1</h5>"),this.rule(/#### ([^#\n]*)\n/g,"<h4>$1</h4>"),this.rule(/### ([^#\n]*)\n/g,"<h3>$1</h3>"),this.rule(/## ([^#\n]*)\n/g,"<h2>$1</h2>"),this.rule(/# ([^#\n]*)\n/g,"<h1>$1</h1>"),this.rule(/\n\n(---|\*\*\*|___)\n\n/g,"<hr>"),this.rule(/\*\*([^*]*)\*\*/g,"<b>$1</b>"),this.rule(/__([^_]*)__/g,"<b>$1</b>"),this.rule(/\*([^*]*)\*/g,"<i>$1</i>"),this.rule(/_([^_]*)_/g,"<i>$1</i>"),this.rule(/~~([^~]*)~~/g,"<s>$1</s>"),this.ruleComplex(/(?:&gt; [^\n]+\n)+/,function(n){var t=[];return t.push("<blockquote>"),t.push(n.split("\n").map(function(n){return n.replace(/&gt; ([^\n]+)/,"$1")}).join("<br>")),t.push("</blockquote>"),t.join("")}),this.ruleComplex(/(?:^[0-9]\. [^\n]+$)(?:\n^[0-9]\. [^\n]+$)*/m,function(n){var t=[];return t.push("<ol>"),t.push(n.split("\n").map(function(n){return n.replace(/[0-9]\. ([^\n]*)/,"<li>$1</li>")}).join("")),t.push("</ol>"),t.join("")}),this.ruleComplex(/(?:^ - [^\n]+$)(?:\n^ - [^\n]+$)*/m,function(n){var t=[];return t.push("<ul>"),t.push(n.split("\n").map(function(n){return n.replace(/ - ([^\n]*)/,"<li>$1</li>")}).join("")),t.push("</ul>"),t.join("")}),this.rule(/!\[([^\[\]\n]+)\]\(([^\[\]\n]+)\)/g,'<img src = "$2" alt = "$1" title = "$1" />'),this.rule(/\[([^\[\]\n]+)\]\(([^\[\]\n]+)\)/g,'<a href = "$2">$1</a>'),this.rule(/\n\n/g,"<br><br>")]}return n.prototype.convert=function(n,t){void 0===t&&(t=null);var e=n instanceof HTMLTextAreaElement?n.value:n.innerHTML;e=e.replace(/\r/g,"").replace(/>/g,"&gt;"),this.ruleList.forEach(function(n){e=n.invoke(e)}),(null==t?n:t).innerHTML=e},n.prototype.rule=function(n,t){return new JSAMRuleSimple(n,t)},n.prototype.ruleComplex=function(n,t){return new JSAMRuleComplex(n,t)},n}(),JSAMRule=function(){return function(n){this.match=n}}(),JSAMRuleComplex=function(n){function t(t,e){var r=n.call(this,t)||this;return r.replace=e,r}return __extends(t,n),t.prototype.invoke=function(n){for(var t;null!=(t=n.match(this.match));)n=n.replace(t[0],this.replace(t[0]));return n},t}(JSAMRule),JSAMRuleSimple=function(n){function t(t,e){var r=n.call(this,t)||this;return r.replace=e,r}return __extends(t,n),t.prototype.invoke=function(n){return n.replace(this.match,this.replace)},t}(JSAMRule),jsam=new JSAM;